#!/usr/bin/env ruby
require "style"
require 'mixlib/cli'

class MyCLI
  include Mixlib::CLI

  option :adverbs,
    :short => "-a",
    :long => "--adverb",
    :description => "Check for adverbs",
    :default => false,
    :on => :tail,
    :boolean => true,
    :show_options => true,
    :exit => 0

  option :textile,
    :short => "-t",
    :long => "--textile",
    :description => "The argument is a textile file",
    :on => :tail,
    :boolean => true,
    :show_options => true,
    :exit => 0

end

puts "=> Scanning for spelling error and style problems. May take a minute.\n".green
puts ["Problem Type".red, "Original Sentence".green, "Offending Word".yellow].join(" | ")
puts "\n\n"

cli = MyCLI.new
cli.parse_options
Style::Scanner.new(ARGF.read, cli).scan
